<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Week 14: Preparing for Production | MAD9124</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Full-stack: API Development">
    
    <link rel="preload" href="/s2024/assets/css/0.styles.70738741.css" as="style"><link rel="preload" href="/s2024/assets/js/app.40d35fb0.js" as="script"><link rel="preload" href="/s2024/assets/js/2.d13f26af.js" as="script"><link rel="preload" href="/s2024/assets/js/1.f6f71081.js" as="script"><link rel="preload" href="/s2024/assets/js/14.b96c24af.js" as="script"><link rel="preload" href="/s2024/assets/js/32.baab7363.js" as="script"><link rel="prefetch" href="/s2024/assets/js/10.700b6097.js"><link rel="prefetch" href="/s2024/assets/js/11.ed8a0934.js"><link rel="prefetch" href="/s2024/assets/js/12.9b4b523d.js"><link rel="prefetch" href="/s2024/assets/js/13.07dd1a9d.js"><link rel="prefetch" href="/s2024/assets/js/15.b144383e.js"><link rel="prefetch" href="/s2024/assets/js/16.d16dea2a.js"><link rel="prefetch" href="/s2024/assets/js/17.b4e1a4e8.js"><link rel="prefetch" href="/s2024/assets/js/18.1f2ac466.js"><link rel="prefetch" href="/s2024/assets/js/19.e668708c.js"><link rel="prefetch" href="/s2024/assets/js/20.4f30b3de.js"><link rel="prefetch" href="/s2024/assets/js/21.248f91f3.js"><link rel="prefetch" href="/s2024/assets/js/22.29f49c1a.js"><link rel="prefetch" href="/s2024/assets/js/23.b8ac89c9.js"><link rel="prefetch" href="/s2024/assets/js/24.e2934475.js"><link rel="prefetch" href="/s2024/assets/js/25.fce0b0a1.js"><link rel="prefetch" href="/s2024/assets/js/26.de8d994d.js"><link rel="prefetch" href="/s2024/assets/js/27.c7ef8247.js"><link rel="prefetch" href="/s2024/assets/js/28.75604c91.js"><link rel="prefetch" href="/s2024/assets/js/29.1b506275.js"><link rel="prefetch" href="/s2024/assets/js/3.8c4cc701.js"><link rel="prefetch" href="/s2024/assets/js/30.787c7c10.js"><link rel="prefetch" href="/s2024/assets/js/31.e47a0c3f.js"><link rel="prefetch" href="/s2024/assets/js/33.aa620044.js"><link rel="prefetch" href="/s2024/assets/js/34.81206c0b.js"><link rel="prefetch" href="/s2024/assets/js/35.d62ca566.js"><link rel="prefetch" href="/s2024/assets/js/36.1835e393.js"><link rel="prefetch" href="/s2024/assets/js/37.5098b7b5.js"><link rel="prefetch" href="/s2024/assets/js/38.3ddeba96.js"><link rel="prefetch" href="/s2024/assets/js/39.3f5b8ef9.js"><link rel="prefetch" href="/s2024/assets/js/4.a03d1287.js"><link rel="prefetch" href="/s2024/assets/js/40.b63f2a79.js"><link rel="prefetch" href="/s2024/assets/js/41.5cb461bc.js"><link rel="prefetch" href="/s2024/assets/js/42.fcb0df3f.js"><link rel="prefetch" href="/s2024/assets/js/43.3a92d7d8.js"><link rel="prefetch" href="/s2024/assets/js/44.5c466f1c.js"><link rel="prefetch" href="/s2024/assets/js/45.c7c3dc1a.js"><link rel="prefetch" href="/s2024/assets/js/46.286df3e7.js"><link rel="prefetch" href="/s2024/assets/js/47.8363bb83.js"><link rel="prefetch" href="/s2024/assets/js/48.56c3e93e.js"><link rel="prefetch" href="/s2024/assets/js/49.b0be2d4e.js"><link rel="prefetch" href="/s2024/assets/js/5.ed6c1368.js"><link rel="prefetch" href="/s2024/assets/js/50.b89e2a53.js"><link rel="prefetch" href="/s2024/assets/js/51.7249e197.js"><link rel="prefetch" href="/s2024/assets/js/52.87fc5cdd.js"><link rel="prefetch" href="/s2024/assets/js/53.56f24714.js"><link rel="prefetch" href="/s2024/assets/js/54.fae6ee81.js"><link rel="prefetch" href="/s2024/assets/js/55.b1e6a4dd.js"><link rel="prefetch" href="/s2024/assets/js/56.eadf21bf.js"><link rel="prefetch" href="/s2024/assets/js/57.d912e614.js"><link rel="prefetch" href="/s2024/assets/js/6.45d9b7e6.js"><link rel="prefetch" href="/s2024/assets/js/7.017a2e0d.js"><link rel="prefetch" href="/s2024/assets/js/vendors~docsearch.38838867.js">
    <link rel="stylesheet" href="/s2024/assets/css/0.styles.70738741.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/s2024/" class="home-link router-link-active"><!----> <span class="site-name">MAD9124</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/s2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/s2024/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/s2024/deliverables/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/s2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/s2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/s2024/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/s2024/deliverables/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/s2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/s2024/modules/" aria-current="page" class="sidebar-link">Table of contents</a></li><li><a href="/s2024/modules/week01/" class="sidebar-link">Week 1: Introduction &amp; Review</a></li><li><a href="/s2024/modules/week02/" class="sidebar-link">Week 2: Node Modules &amp; Express</a></li><li><a href="/s2024/modules/week03/" class="sidebar-link">Week 3: APIs</a></li><li><a href="/s2024/modules/week04/" class="sidebar-link">Week 4: Project Structure, RESTful alternatives, and Postman</a></li><li><a href="/s2024/modules/week05/" class="sidebar-link">Week 5: Middleware</a></li><li><a href="/s2024/modules/week06/" class="sidebar-link">Week 6: Midterm Project</a></li><li><a href="/s2024/modules/week07/" class="sidebar-link">Week 7: API Integration &amp; Caching</a></li><li><a href="/s2024/modules/break-week/" class="sidebar-link">Break Week</a></li><li><a href="/s2024/modules/week09/" class="sidebar-link">Week 9: Data Persitance and MongoDB</a></li><li><a href="/s2024/modules/week10/" class="sidebar-link">Week 10: Object Data Modelling with Mongoose</a></li><li><a href="/s2024/modules/week11/" class="sidebar-link">Week 11: Data Santization, XSS and LoggingS</a></li><li><a href="/s2024/modules/week12/" class="sidebar-link">Week 12: Authentication With Passport</a></li><li><a href="/s2024/modules/week13/" class="sidebar-link">Week 13: Testing with Jest</a></li><li><a href="/s2024/modules/week14/" aria-current="page" class="active sidebar-link">Week 14: Preparing for Production</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#agenda" class="sidebar-link">Agenda</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#storing-files-with-google-cloud-storage" class="sidebar-link">Storing files with Google Cloud Storage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#google-cloud-free-trial" class="sidebar-link">Google Cloud Free Trial</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#creating-the-bucket" class="sidebar-link">Creating the Bucket</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#allowing-public-access" class="sidebar-link">Allowing Public Access</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#connecting-to-our-application" class="sidebar-link">Connecting to our Application</a></li></ul></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#additional-resources-for-the-final-project" class="sidebar-link">Additional resources for the final project:</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/week14/#introducing-the-final-project" class="sidebar-link">Introducing the Final Project</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1><span class="week">Week 14</span><br> <span class="title">Preparing for Production</span></h1> <h2 id="agenda"><a href="#agenda" class="header-anchor">#</a> Agenda</h2> <ul><li>AMA (10 mins)</li> <li>File storage with Google Cloud Storage</li></ul> <hr> <h2 id="storing-files-with-google-cloud-storage"><a href="#storing-files-with-google-cloud-storage" class="header-anchor">#</a> Storing files with Google Cloud Storage</h2> <p>Let's say we want to allow our users to store images of their cars. We will need a way to store images and or other files for our application. We could store them locally, but that could lead to disk space issues, and other optimization issues.</p> <p>Luckily, there are many services out there that can store files for us, <strong>and</strong> distribute those files across the globe in an efficient way. Some popular options include <a href="https://www.filestack.com/" target="_blank" rel="noopener noreferrer">Filestack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">AWS S3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://cloud.google.com/storage?hl=en" target="_blank" rel="noopener noreferrer">Google Cloud Storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Since we all ready are set up with Google Cloud, let's use Google Cloud Storage to manage our image storage.</p> <h3 id="google-cloud-free-trial"><a href="#google-cloud-free-trial" class="header-anchor">#</a> Google Cloud Free Trial</h3> <p>Google Cloud Storage is behind a pay wall unfortunately, so wE will need to provide a credit card number. However, they have a generous <a href="https://cloud.google.com/free" target="_blank" rel="noopener noreferrer">Free Tier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which includes 5GB a month in Standard Storage. Plus, they have a free trial period, where they give you $300 to try there services for free!</p> <p>Navigate to <a href="https://cloud.google.com/storage?hl=en" target="_blank" rel="noopener noreferrer">Google Cloud Storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and click on <strong>Try Free Storage</strong>. This will take you to the free trial sign up flow. Follow this through to sign up for the free trial.</p> <p><img src="/s2024/assets/img/google_storage01.d9a76a00.png" alt="google storage start page"></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you are nervous about Google having your Credit Card, set a remind to cancel the trial before it runs out.
Other options include setting a credit limit, or adding an alert when your monthly charge gets to a threshold.
Info can be found <a href="https://support.google.com/paymentscenter/answer/9034387?hl=en" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="creating-the-bucket"><a href="#creating-the-bucket" class="header-anchor">#</a> Creating the Bucket</h3> <p>Now that we are set up, navigate to the <a href="https://console.cloud.google.com/storage/browser" target="_blank" rel="noopener noreferrer">Cloud Storage Buckets page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/s2024/assets/img/google_storage02.342d531b.png" alt="google storage buck page"></p> <p>Click on <strong>Create</strong> at the top, and we will begin setting up our <code>Bucket</code>. (This is google's term for a group of stored files. We store things in different buckets). We will create a bucket for our cars project.</p> <p>Follow the flow to:</p> <h4 id="name-your-bucket"><a href="#name-your-bucket" class="header-anchor">#</a> Name your bucket</h4> <p><img src="/s2024/assets/img/google_storage_create01.abf21d73.png" alt="name cloud bucket"></p> <h4 id="store-your-data-default"><a href="#store-your-data-default" class="header-anchor">#</a> Store your data (default)</h4> <p><img src="/s2024/assets/img/google_storage_create02.f4a10b44.png" alt="store cloud bucket location"></p> <h4 id="choose-the-storage-class-default"><a href="#choose-the-storage-class-default" class="header-anchor">#</a> Choose the storage class (default)</h4> <p><img src="/s2024/assets/img/google_storage_create03.b1e300d6.png" alt="storage type cloud bucket"></p> <h4 id="choose-how-the-files-can-be-accessed-we-want-all-of-our-images-to-be-publicly-accessible-so-we-choose-uniform-access-control-and-we-will-not-enforce-public-access-prevention-on-the-bucket"><a href="#choose-how-the-files-can-be-accessed-we-want-all-of-our-images-to-be-publicly-accessible-so-we-choose-uniform-access-control-and-we-will-not-enforce-public-access-prevention-on-the-bucket" class="header-anchor">#</a> Choose how the files can be accessed. We want all of our images to be publicly accessible, so we choose <strong>Uniform</strong> Access control, and we will <strong>Not</strong> enforce public access prevention on the bucket</h4> <p><img src="/s2024/assets/img/google_storage_create04.3459c171.png" alt="access cloud bucket"></p> <h4 id="and-finally-choose-how-to-protect-deleted-objects-default"><a href="#and-finally-choose-how-to-protect-deleted-objects-default" class="header-anchor">#</a> And finally, choose how to protect deleted objects (default)</h4> <p><img src="/s2024/assets/img/google_storage_create05.b88c44aa.png" alt="name cloud buck"></p> <p>Click on <strong>Create</strong> to create your Bucket!</p> <h3 id="allowing-public-access"><a href="#allowing-public-access" class="header-anchor">#</a> Allowing Public Access</h3> <p>When creating our Bucket, we chose <strong>Uniform</strong> Access to all of the files in our Bucket. By default, our files are not public. We need to change this in order for our users to be able to see the images after they are uploaded.</p> <p>With you bucket selected, click on the <strong>Permissions</strong> tab. Click on <strong>GRANT ACCESS</strong> to open up the Grant Access drawer.</p> <p><img src="/s2024/assets/img/google_storage_permissions02.79ad8d10.png" alt="permissions drawer"></p> <p>Add principal <code>allUsers</code>, and assign the Role <code>Storage Object Viewer</code>. This tells google that All Users can view the Objects stored in this Bucket.</p> <div class="custom-block warning"><p class="custom-block-title">Are you sure that you want to make this resource public?</p> <p>Yes, we are sure!</p> <p>Google will give us warnings that our files are publicly accessible, but that is how we want them to be.</p></div> <h3 id="connecting-to-our-application"><a href="#connecting-to-our-application" class="header-anchor">#</a> Connecting to our Application</h3> <h4 id="creating-a-service-account"><a href="#creating-a-service-account" class="header-anchor">#</a> Creating a Service Account</h4> <p>Now that our Bucket is set up, we now will need to connect it to our app, so we can send files we want to be saved.</p> <p>The first step is to create a service account in Google that will be in charge of uploading the images.</p> <p>Navigate to <a href="https://console.cloud.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">API's and Services, Credentials<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and click <strong>CREATE CREDENTIALS</strong> Service account</p> <p><img src="/s2024/assets/img/google_service_account.d2288e98.png" alt="service account create"></p> <p>Create the service account id, and leave everything else as default.</p> <p>Next, we need to generate a Key that we will store with our project, to let google know that the service account is the one accessing the Bucket. Click on the newly created service account, and go to the <strong>KEYS</strong> tab.</p> <p>Click ADD KEY / Create new key, and select JSON as the key type. Save this file in the root of your project (next to package.json).</p> <p><img src="/s2024/assets/img/google_service_account_key.635fb49c.png" alt="create key"></p> <p>Finally, we will need to go back to our Cloud Storage Bucket, and grant permissions on our new service account to create objects.</p> <p>In the Cloud Storage / Buckets page, click on the Bucket you created earlier and select the <strong>PERMISSIONS</strong> tab. Click <strong>GRANT ACCESS</strong>, select the new service account as the <em>New prinicipal</em> I find this UX hard, start typing the id of the service account you created, and it should auto complete.</p> <p><img src="/s2024/assets/img/google_bucket_permissions01.47c4e8e1.png" alt="grant access"></p> <p>Click save, and we should be done in the Google Dashboard.</p> <h4 id="connecting-to-node-js"><a href="#connecting-to-node-js" class="header-anchor">#</a> Connecting to Node.js</h4> <p>In a previous week, we talked about using <a href="https://www.npmjs.com/package/multer" target="_blank" rel="noopener noreferrer">multer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to attach file data to the request object in express. We will use this again here in combination with google's own package <a href="https://www.npmjs.com/package/@google-cloud/storage" target="_blank" rel="noopener noreferrer">@google-cloud/storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Let's install both of these dependencies</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> multer @google-cloud/storage
</code></pre></div><p>Let's create a middleware function using multer to look for an array of images.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/middlewares/attachImages.js</span>

<span class="token keyword">const</span> multer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;multer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// we are looking for the property name `images`</span>
<span class="token keyword">const</span> attachImages <span class="token operator">=</span> <span class="token function">multer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> attachImages<span class="token punctuation">;</span>
</code></pre></div><p>We will add this as middleware to any route that may involve a photo.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/routers/cars.js</span>

carRouter<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> attachImages<span class="token punctuation">,</span> sanitizeBody<span class="token punctuation">,</span> validateCarData<span class="token punctuation">,</span> carController<span class="token punctuation">.</span>create<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
carRouter<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> attachImages<span class="token punctuation">,</span> sanitizeBody<span class="token punctuation">,</span> validateCarData<span class="token punctuation">,</span> carController<span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">;</span>
carRouter<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> attachImages<span class="token punctuation">,</span> sanitizeBody<span class="token punctuation">,</span> carController<span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">sanitizeBody must be called after attachImages</p> <p>We are using multer to add the form data to the request body. Until multer is run, req.body is an empty object when passed as form data (rather than JSON).</p></div> <p>Next, let's update our car model to have an <code>images</code> array. This will be an array of urls (String) that we will generate after uploading the file to Google Storage.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/models/car.js</span>
<span class="token keyword">const</span> carSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">make</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">minLength</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token number">64</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">minLength</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token number">64</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">minLength</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token number">64</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">validate</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token parameter">urls</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> urls<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Please provide at least one image&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">owner</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>ObjectId<span class="token punctuation">,</span>
      <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">timestamps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Custom Validation</p> <p>We can create our own custom validation in mongoose using the <code>validate</code> property. It takes an array of length 2, where the first element is a validation function (returns true if valid, false if not), and an error message in the second element.</p></div> <p>Next, we will pass the image data from the <code>req.files</code> property from the controller to the car service.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/controllers/cars.js</span>

<span class="token keyword">const</span> <span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> crapService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span> <span class="token operator">...</span>input<span class="token punctuation">,</span> <span class="token literal-property property">owner</span><span class="token operator">:</span> req<span class="token punctuation">.</span>user<span class="token punctuation">.</span>_id <span class="token punctuation">}</span><span class="token punctuation">,</span>
      req<span class="token punctuation">.</span>files
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Let's create a new service just for handling uploading images to Google Storage. We will call it imageService, and for now, it will have one function called <code>uploadMany</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/services/images.js</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Storage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@google-cloud/storage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> BadRequestError <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;../utils/index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> storage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">keyFilename</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_STORAGE_SECRET_PATH</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bucket <span class="token operator">=</span> storage<span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span>proces<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_STORAGE_BUCKET_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">uploadMany</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
    files<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> originalname<span class="token punctuation">,</span> buffer <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// Prefix the filename with the current timestamp in milliseconds to allow duplcate file names to be saved.</span>
      <span class="token keyword">const</span> filename <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>originalname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> blob <span class="token operator">=</span> bucket<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> blobStream <span class="token operator">=</span> blob<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">resumable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// write streams emit different events depending on the status of the file.</span>
      <span class="token comment">// we will want to handle the `error` and `finish` events</span>
      <span class="token comment">// since we don't know how long the file upload will take,</span>
      <span class="token comment">// we will create a Promise, and either `resovle` the promise</span>
      <span class="token comment">// with the uploaded image url if it is successful,</span>
      <span class="token comment">// or `reject` the promise with an error</span>
      <span class="token comment">// if we receive an `error` event from the WriteStream.</span>
      <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// we define our event handlers first</span>
        blobStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        blobStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;finish&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// this is the format of the public url created in Cloud Storage</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://storage.googleapis.com/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>bucket<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blob<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// then start the upload, and allow the event handlers created above to run</span>
        <span class="token comment">// when the upload is complete / errors out</span>
        blobStream<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  uploadMany<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Don't forget to update `.env` and `.env.example`</p> <p>We will store the Bucket name and credential path in .env because it may change depending on the env.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">GOOGLE_STORAGE_SECRET_PATH</span><span class="token operator">=</span><span class="token punctuation">.</span><span class="token operator">/</span>storageKey<span class="token punctuation">.</span>json
<span class="token constant">GOOGLE_STORAGE_BUCKET_NAME</span><span class="token operator">=</span>s2024<span class="token operator">-</span>cars
</code></pre></div></div> <p>Finally, we will call <code>imageService.uploadMany</code> from the car service, and save the generated urls in mongoose!.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/services/cars.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newCar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> urls <span class="token operator">=</span> <span class="token keyword">await</span> imageService<span class="token punctuation">.</span><span class="token function">uploadMany</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
  newCar<span class="token punctuation">.</span>images <span class="token operator">=</span> urls<span class="token punctuation">;</span>

  <span class="token keyword">await</span> newCar<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> newCar<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Test with Postman.</p> <p><img src="/s2024/assets/img/postman_test.3501e873.png" alt="postman test"></p> <h2 id="additional-resources-for-the-final-project"><a href="#additional-resources-for-the-final-project" class="header-anchor">#</a> Additional resources for the final project:</h2> <ul><li>Search by location using mongodb <a href="https://www.mongodb.com/docs/manual/reference/operator/query/near/" target="_blank" rel="noopener noreferrer">$near<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> keyword.</li> <li>Creating a <code>Point</code> location type, and <code>2dsphere</code> index with <a href="https://mongoosejs.com/docs/geojson.html" target="_blank" rel="noopener noreferrer">mongoose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.mongodb.com/docs/manual/reference/operator/query/regex/" target="_blank" rel="noopener noreferrer">Regexp search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with mongodb.</li> <li>Using <a href="https://mongoosejs.com/docs/tutorials/lean.html" target="_blank" rel="noopener noreferrer">lean<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to convert mongoose object to javascript object.</li> <li>Field selection in mongoose <a href="https://mongoosejs.com/docs/populate.html#field-selection" target="_blank" rel="noopener noreferrer">populate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="introducing-the-final-project"><a href="#introducing-the-final-project" class="header-anchor">#</a> Introducing the Final Project</h2> <p>Instructions can be found <a href="/s2024/deliverables/final.html">here</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/6/2024, 9:25:42 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/s2024/modules/week13/" class="prev">
        Week 13: Testing with Jest
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/s2024/assets/js/app.40d35fb0.js" defer></script><script src="/s2024/assets/js/2.d13f26af.js" defer></script><script src="/s2024/assets/js/1.f6f71081.js" defer></script><script src="/s2024/assets/js/14.b96c24af.js" defer></script><script src="/s2024/assets/js/32.baab7363.js" defer></script>
  </body>
</html>
